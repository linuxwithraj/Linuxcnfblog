How to Install Firewall on CentOS 7

Firewall is a network security tool that provide network level security based on a set of rules. It has controls on incoming and outgoing traffic. 
Step 1. Package Installation: Firewalld package are available in CentOS 7 base repository and can be installed using yum command:

[root@linuxcnf ~]# yum install firewalld -y
Loaded plugins: fastestmirror
…………………………….
Installed:
  firewalld.noarch 0:0.6.3-2.el7_7.2

Dependency Installed:
…………………………..
  python-slip.noarch 0:0.4.0-4.el7      python-slip-dbus.noarch 0:0.4.0-4.el7

Updated:
  centos-release.x86_64 0:7-7.1908.0.el7.centos        dracut.x86_64 0:033-564.el7            
………………………

Dependency Updated:
  cryptsetup-libs.x86_64 0:2.0.3-5.el7                             device-mapper.x86_64 7:1.02.158-2.el7_7.2
……………………………..
  systemd-libs.x86_64 0:219-67.el7_7.2		         systemd-sysv.x86_64 0:219-67.el7_7.2

Complete!
[root@linuxcnf ~]#

Step 2. Start the Service: Run the flowing command to start firewalld service and enable to auto start on machine reboot:

[root@linuxcnf ~]# systemctl start firewalld
[root@linuxcnf ~]# systemctl enable firewalld
[root@linuxcnf ~]#

Step 3. Verify the Installation: Run the following command to verify the installation and service running status:

[root@linuxcnf ~]# firewall-cmd --version
0.6.3
[root@linuxcnf ~]#

[root@linuxcnf ~]# firewall-cmd --stat
running
[root@linuxcnf ~]#

[root@linuxcnf ~]# systemctl status firewalld
● firewalld.service - firewalld - dynamic firewall daemon
   Loaded: loaded (/usr/lib/systemd/system/firewalld.service; enabled; vendor preset: enabled)
   Active: active (running) since Fri 2019-12-06 10:29:59 UTC; 1min 18s ago
………………………….
[root@linuxcnf ~]#

[root@linuxcnf ~]# systemctl is-enabled firewalld
enabled
[root@linuxcnf ~]#

Done!!! Firewalld installed successfully and running fine.
===========================================================================
How to Add a Port in Firewall Configuration on CentOS 7 (firewall-cmd)

Firewall is a network security tool that provide network level security based on a set of rules. It has controls on incoming and outgoing traffic. 

Step 1. Check the Service Status: Run the following command to check firewall running status:

[root@linuxcnf ~]# firewall-cmd --stat
running
[root@linuxcnf ~]#

Step 2. Adding Port: Run the following command to allow port in firewall:

[root@linuxcnf ~]# firewall-cmd --permanent --zone=public --add-port=80/tcp
success
[root@linuxcnf ~]#

Change the port and protocol (tcp/udp) as desire.

Step 3. Reloading the Service: Run the following command for soft reloading firewall service to refelect the changes:

[root@linuxcnf ~]# firewall-cmd --reload
success
[root@linuxcnf ~]#

Step 4. Validate the Configuration: Run the following command the verify the configuration:

[root@linuxcnf ~]# firewall-cmd --list-ports | grep 80
80/tcp
[root@linuxcnf ~]#

Done!!! Port 80 is successfully allowed from Linux Firewall.
=============================================================================
How to Add a Service in Firewall Configuration on CentOS 7 (firewall-cmd)

Firewall is a network security tool that provide network level security based on a set of rules. It has controls on incoming and outgoing traffic. 

Step 1. Check the Service Status: Run the following command to check firewall running status:

[root@linuxcnf ~]# firewall-cmd --stat
running
[root@linuxcnf ~]#

Step 2. Adding Service: Run the following command to allow services in firewall:

[root@linuxcnf ~]# firewall-cmd --permanent --zone=public --add-service=http
success
[root@linuxcnf ~]#

Change the service/daemon name as desire.

Step 3. Reloading the Service: Run the following command for soft reloading firewall service to reflect the changes:

[root@linuxcnf ~]# firewall-cmd --reload
success
[root@linuxcnf ~]#

Step 4. Validate the Configuration: Run the following command the verify the configuration:

[root@linuxcnf ~]# firewall-cmd --list-service | grep http
dhcpv6-client http ssh
[root@linuxcnf ~]#

Done!!! Http Service is successfully allowed from Linux Firewall.
=======================================================================
How to Defining a Service to Add in Firewall Configuration on CentOS 7

Firewall is a network security tool that provide network level security based on a set of rules. It has controls on incoming and outgoing traffic. 

In firewall configuration, services are a set of service information i.e. Service name, service ports and description of the service. Service list are available in directory “/usr/lib/firewalld/services”.

Step 1. Check the Service Status: Run the following command to check firewall running status:

[root@linuxcnf ~]# firewall-cmd --stat
running
[root@linuxcnf ~]#

Step 2. Defining a Service: Run the following command to copy any existing service file:
 
[root@linuxcnf ~]# cd /usr/lib/firewalld/services/
[root@linuxcnf services]# cp -p http.xml tomcat9.xml
[root@linuxcnf services]#

Modify the above copied tomcat9.xml file as below:

[root@linuxcnf services]# vi tomcat9.xml
<?xml version="1.0" encoding="utf-8"?>
<service>
  <short>TOMCAT9</short>
  <description>Apache Tomcat software is a free and open source Web Server that provides a HTTP web server environment Java code. </description>
  <port protocol="tcp" port="8080"/>
</service>
[root@linuxcnf services]#

Step 3. Adding Service: Run the following command to allow services in firewall:

[root@linuxcnf services]# firewall-cmd --permanent --zone=public --add-service=tomcat9
success
[root@linuxcnf services]#

Step 4. Reloading the Service: Run the following command for soft reloading firewall service to reflect the changes:

[root@linuxcnf services]# firewall-cmd --reload
success
[root@linuxcnf services]#

Step 5. Validate the Configuration: Run the following command the verify the configuration:

[root@linuxcnf services]# firewall-cmd --list-service | grep tomcat9
dhcpv6-client http ssh tomcat9
[root@linuxcnf services]#

Done!!! Tomcat9 Service is successfully allowed from Linux Firewall.


 
